{% extends 'base.html.twig' %}

{% block title %}Accueil - Produits Frais et de Qualit√©{% endblock %}

{% block body %}
<!-- Hero Section Alimentaire -->
<div class="hero-pattern position-relative overflow-hidden mb-5" style="border-radius: 20px; padding: 5rem 0;">
    <div class="container position-relative" style="z-index: 2;">
        <div class="row align-items-center">
            <div class="col-lg-7 text-white fade-in-up">
                <p class="text-uppercase mb-3 fw-bold" style="color: var(--accent-color); letter-spacing: 3px;">
                    üåø 100% Frais & Naturel
                </p>
                <h1 class="display-2 fw-bold mb-4" style="line-height: 1.2;">
                    Des Produits Frais <br>
                    <span style="color: var(--accent-color);">Livr√©s Chaque Jour</span>
                </h1>
                <p class="lead mb-5" style="font-size: 1.3rem; opacity: 0.95;">
                    Fruits, l√©gumes, viandes, poissons et bien plus encore. 
                    Commandez maintenant et recevez vos produits en 24h !
                </p>
                <div class="d-flex flex-wrap gap-3">
                    <a href="{{ path('app_product_index') }}" class="btn btn-secondary btn-lg px-5">
                        <i class="bi bi-basket me-2"></i> Commander Maintenant
                    </a>
                    {% if not app.user %}
                        <a href="{{ path('app_register') }}" class="btn btn-outline-light btn-lg px-5">
                            <i class="bi bi-person-plus me-2"></i> Cr√©er un Compte
                        </a>
                    {% endif %}
                </div>
            </div>
            <div class="col-lg-5 text-center mt-5 mt-lg-0">
                <div style="font-size: 15rem; opacity: 0.3;">
                    ü•ó
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Features Section -->
<div class="container mb-5">
    <div class="text-center mb-5">
        <h2 class="display-5 fw-bold mb-3">Pourquoi Choisir FreshMarket</h2>
        <p class="lead" style="color: var(--text-secondary);">La qualit√© et la fra√Æcheur au meilleur prix</p>
    </div>
    
    <div class="row g-4">
        <div class="col-lg-3 col-md-6">
            <div class="card text-center h-100 border-0">
                <div class="card-body p-4">
                    <div class="mb-4" style="font-size: 4rem;">
                        üöö
                    </div>
                    <h5 class="card-title mb-3">Livraison Express</h5>
                    <p class="card-text" style="color: var(--text-secondary);">
                        Livraison gratuite d√®s 50‚Ç¨ d'achat. Recevez vos courses en 24h.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6">
            <div class="card text-center h-100 border-0">
                <div class="card-body p-4">
                    <div class="mb-4" style="font-size: 4rem;">
                        üå±
                    </div>
                    <h5 class="card-title mb-3">Produits Bio</h5>
                    <p class="card-text" style="color: var(--text-secondary);">
                        Une large s√©lection de produits biologiques certifi√©s et locaux.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6">
            <div class="card text-center h-100 border-0">
                <div class="card-body p-4">
                    <div class="mb-4" style="font-size: 4rem;">
                        ‚≠ê
                    </div>
                    <h5 class="card-title mb-3">Qualit√© Premium</h5>
                    <p class="card-text" style="color: var(--text-secondary);">
                        Produits soigneusement s√©lectionn√©s par nos experts en alimentation.
                    </p>
                </div>
            </div>
        </div>
        
        <div class="col-lg-3 col-md-6">
            <div class="card text-center h-100 border-0">
                <div class="card-body p-4">
                    <div class="mb-4" style="font-size: 4rem;">
                        üí∞
                    </div>
                    <h5 class="card-title mb-3">Prix Imbattables</h5>
                    <p class="card-text" style="color: var(--text-secondary);">
                        Des promotions quotidiennes et des prix comp√©titifs toute l'ann√©e.
                    </p>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Cat√©gories Section -->
<div class="container mb-5">
    <h2 class="display-6 fw-bold mb-4 text-center">
        üõí Nos Cat√©gories
    </h2>
    
    <div class="row g-3">
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #ff6b6b, #ff8787); color: white;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">üçé</div>
                    <h5 class="mt-3 mb-0">Fruits & L√©gumes</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #4ecdc4, #44a08d); color: white;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">ü•©</div>
                    <h5 class="mt-3 mb-0">Viandes</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #667eea, #764ba2); color: white;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">üêü</div>
                    <h5 class="mt-3 mb-0">Poissons</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #f093fb, #f5576c); color: white;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">üßÄ</div>
                    <h5 class="mt-3 mb-0">Produits Laitiers</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #fa709a, #fee140); color: white;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">üçû</div>
                    <h5 class="mt-3 mb-0">Boulangerie</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #30cfd0, #330867); color: white;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">ü•§</div>
                    <h5 class="mt-3 mb-0">Boissons</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #a8edea, #fed6e3); color: #333;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">üç™</div>
                    <h5 class="mt-3 mb-0">√âpicerie</h5>
                </div>
            </div>
        </div>
        <div class="col-lg-3 col-md-4 col-sm-6">
            <div class="card border-0 text-center" style="background: linear-gradient(135deg, #ffecd2, #fcb69f); color: #333;">
                <div class="card-body p-4">
                    <div style="font-size: 3rem;">‚ùÑÔ∏è</div>
                    <h5 class="mt-3 mb-0">Surgel√©s</h5>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Products Section -->
<div class="container mb-5">
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h2 class="display-6 fw-bold mb-2">
                ‚≠ê Nos Produits en Vedette
            </h2>
            <p style="color: var(--text-secondary);">D√©couvrez notre s√©lection du moment</p>
        </div>
        <a href="{{ path('app_product_index') }}" class="btn btn-outline-primary">
            Voir Tout <i class="bi bi-arrow-right ms-2"></i>
        </a>
    </div>
    
    {% if products is empty %}
        <div class="text-center py-5">
            <div style="font-size: 5rem; opacity: 0.3;">üõí</div>
            <h4 class="mt-4" style="color: var(--text-secondary);">Nos produits arrivent bient√¥t...</h4>
            <p style="color: var(--text-secondary);">Revenez prochainement pour d√©couvrir notre s√©lection.</p>
        </div>
    {% else %}
        <div class="row g-4">
            {% for product in products|slice(0, 8) %}
                <div class="col-lg-3 col-md-4 col-sm-6">
                    <div class="card h-100 border-0 product-card">
                        <div class="position-relative overflow-hidden" style="border-radius: 15px 15px 0 0;">
                            {% if product.image %}
                                <img src="{{ asset('uploads/' ~ product.image) }}" 
                                     class="card-img-top" 
                                     alt="{{ product.nom }}" 
                                     style="height: 250px; object-fit: cover;">
                            {% else %}
                                <div class="d-flex align-items-center justify-content-center" 
                                     style="height: 250px; background: linear-gradient(135deg, var(--primary-light), var(--primary-color));">
                                    <div style="font-size: 5rem;">üçΩÔ∏è</div>
                                </div>
                            {% endif %}
                            {% if product.stock < 5 and product.stock > 0 %}
                                <span class="position-absolute top-0 end-0 m-3 badge bg-warning">
                                    <i class="bi bi-exclamation-circle"></i> Stock Limit√©
                                </span>
                            {% elseif product.stock == 0 %}
                                <span class="position-absolute top-0 end-0 m-3 badge bg-danger">
                                    <i class="bi bi-x-circle"></i> √âpuis√©
                                </span>
                            {% else %}
                                <span class="position-absolute top-0 start-0 m-3 badge bg-success">
                                    ‚úì Disponible
                                </span>
                            {% endif %}
                        </div>
                        <div class="card-body d-flex flex-column">
                            <div class="mb-2">
                                <span class="badge bg-primary">
                                    {{ product.categorie }}
                                </span>
                            </div>
                            <h5 class="card-title mb-3">{{ product.nom }}</h5>
                            <p class="card-text flex-grow-1" style="font-size: 0.9rem; color: var(--text-secondary);">
                                {{ product.description|length > 70 ? product.description|slice(0, 70) ~ '...' : product.description }}
                            </p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="h4 mb-0 fw-bold" style="color: var(--primary-color);">
                                    {{ product.prix|number_format(2, ',', ' ') }} ‚Ç¨
                                </span>
                                <a href="{{ path('app_product_show', {id: product.id}) }}" 
                                   class="btn btn-primary btn-sm">
                                    <i class="bi bi-cart-plus"></i> Ajouter
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
            {% endfor %}
        </div>
        
        {% if products|length > 8 %}
            <div class="text-center mt-5">
                <a href="{{ path('app_product_index') }}" class="btn btn-secondary btn-lg px-5">
                    <i class="bi bi-grid-3x3-gap me-2"></i> D√©couvrir Tous les Produits
                </a>
            </div>
        {% endif %}
    {% endif %}
</div>

<!-- Promo Banner -->
<div class="container mb-5">
    <div class="position-relative overflow-hidden" 
         style="background: linear-gradient(135deg, var(--secondary-color), var(--secondary-light)); 
                border-radius: 20px; padding: 4rem 2rem;">
        <div class="row align-items-center">
            <div class="col-lg-8 text-white text-center text-lg-start">
                <h2 class="display-5 fw-bold mb-3">üéâ Offre Sp√©ciale du Jour</h2>
                <p class="lead mb-0">
                    Profitez de <strong>-20% sur tous les fruits et l√©gumes frais</strong> + 
                    livraison gratuite pour toute commande sup√©rieure √† 30‚Ç¨ !
                </p>
            </div>
            <div class="col-lg-4 text-center mt-4 mt-lg-0">
                <a href="{{ path('app_product_index') }}" class="btn btn-light btn-lg px-5" style="box-shadow: 0 10px 30px rgba(0,0,0,0.2);">
                    <i class="bi bi-basket me-2"></i> J'en Profite !
                </a>
            </div>
        </div>
    </div>
</div>

<!-- Stats Section -->
<div class="container mb-5">
    <div class="row g-4 text-center">
        <div class="col-md-3 col-6">
            <div class="p-3">
                <div style="font-size: 3rem;">üë•</div>
                <h4 class="mt-3 mb-0 fw-bold" style="color: var(--primary-color);">15,000+</h4>
                <p style="color: var(--text-secondary);">Clients Satisfaits</p>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="p-3">
                <div style="font-size: 3rem;">üì¶</div>
                <h4 class="mt-3 mb-0 fw-bold" style="color: var(--primary-color);">500+</h4>
                <p style="color: var(--text-secondary);">Produits Disponibles</p>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="p-3">
                <div style="font-size: 3rem;">‚≠ê</div>
                <h4 class="mt-3 mb-0 fw-bold" style="color: var(--primary-color);">4.8/5</h4>
                <p style="color: var(--text-secondary);">Note Moyenne</p>
            </div>
        </div>
        <div class="col-md-3 col-6">
            <div class="p-3">
                <div style="font-size: 3rem;">üöö</div>
                <h4 class="mt-3 mb-0 fw-bold" style="color: var(--primary-color);">24h</h4>
                <p style="color: var(--text-secondary);">Livraison Express</p>
            </div>
        </div>
    </div>
</div>
{% endblock %}
